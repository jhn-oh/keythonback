{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <meta charset="UTF-8">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자료구조 아일랜드</title>
    <style>
       @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;700&display=swap');

.card {
    border: 1px solid #ccc; /* 회색 선 */
    border-radius: 10px; /* 모서리 둥글게 */
    padding: 20px; /* 내부 여백 */
    background-color: #fff; /* 카드 배경색 */
    width: 75%; /* 카드 최대 너비 */
    margin: 20px auto; /* 가운데 정렬 */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* 살짝 그림자 */
    font-family: 'Pretendard', sans-serif; /* 프리텐다드 폰트 */
    position: relative; /* 아이콘 배치를 위해 */
}

.card h2 {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 5px; /* 제목 아래 간격 줄이기 */
    margin-top: 0; /* 제목 위 간격 제거 */
}

.card .date {
    font-size: 14px;
    color: #777; /* 연한 회색 */
    margin-bottom: 15px;
    font-weight: 500;
}

.card .content {
    font-size: 16px;
    line-height: 1.5;
    margin-bottom: 25px; /* 본문 아래 간격 더 넣기 */
    font-weight: 400;
}

.card .icons {
    display: flex;
    gap: 10px;
    align-items: center;
    position: absolute;
    bottom: 15px;
    right: 20px;
}

.card .icons span {
    font-size: 14px;
    color: #555; /* 중간 회색 */
    cursor: pointer;
}

.card .icons i {
    font-size: 16px;
    color: #555; /* 중간 회색으로 수정 */
    margin-right: 5px;
}

.card2 {
    font-size: 16px;
    color: #ffffff; /* 중간 회색으로 수정 */
    margin-right: 5px; }


.icon-btn {
            background-color: transparent;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #d4b19d; /* 연갈색 아이콘 색상 */
            display: flex;
            align-items: center;
        }

        .icon-btn:hover {
            color: #b59a7d; /* 시퍼런 연갈색으로 변경 */
        }

        .icon-btn i {
            margin-right: 5px;
        }

        .write-btn {
            position: absolute;
            bottom: 30px;
            right: 10px; /* 글쓰기 버튼 위치 */
            width: 50px; /* 버튼 크기 줄이기 */
            height: 50px; /* 버튼 크기 줄이기 */
            border-radius: 50%;
            background-color: #d4b19d;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px; /* 글자 크기도 줄이기 */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            border: none;
            transition: background-color 0.3s;
        }

        .write-btn:hover {
            background-color: #b59a7d; /* 시퍼런 연갈색으로 변경 */
        }
        .p .h1 {
            text-align: center;
            justify-content: center;
            justify-self: start;
        }
        
        .map-btn {
            position: absolute;
            bottom: 30px;
            left: 10px; /* 지도 버튼 위치 */
            width: 50px; /* 버튼 크기 */
            height: 50px; /* 버튼 크기 */
            border-radius: 50%;
            background-color: #d4b19d;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px; /* 글자 크기 */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            border: none;
            transition: background-color 0.3s;
        }
        .title_container {
            text-align: center;
            justify-content: center;
    
        }
        .map-btn:hover {
            background-color: #b59a7d; /* 시퍼런 연갈색으로 변경 */
        }
        .centered-container {
            display: flex;
            justify-content: center; /* 가로 가운데 정렬 */
            align-items: center; /* 세로 가운데 정렬 */
            height: 100vh; /* 화면 전체 높이 */
            width: 100vw; /* 화면 전체 너비 */
            margin: 0;
            background-color: #f0f0f0; /* 배경색 */
        }

        /* 자식 div 스타일 */
       
        .title {
            padding-top: 20px; /* 상단 패딩 추가 */
            font-size: 24px;
            color: #000;
text-align: center;
font-family: Pretendard;
font-style: normal;
font-weight: 700;
line-height: normal;
        }

        .separator {
            width: 60%;
            border-top: 2px solid #d4b19d;
            margin: 0 auto;
            margin-bottom: 10px;
        }

        .episode {
            text-align: center;
            color: #000;}

    </style>
</head>
<body>
    
    <div class="wrapper">
        <br><br>
        <div class="title">{{island}} 아일랜드</div>
        <div class="separator"></div>
        <div class="episode">{{username}}의 에피소드</div>
        <br><br>
        {% for article in articles %}
            <div class="card">
                <h2>{{ forloop.counter }}번째 인증</h2>
                <div class="date">{{ article.uploaddate}}</div>
                <div class="content">
                    {{ article.article }}
                </div>
                {% if article.image %}
                    <div class="image-container">
                        <img src="{{ article.image.url }}" alt="관련 이미지" style="max-width: 100%; border-radius: 10px; margin-top: 15px;">
                    </div>
                {% endif %}
                <div class="icons">
                    <span>
                        <i class="fa fa-heart"></i> 15
                    </span>
                    <span>
                        <i class="fa fa-comment"></i> 1
                    </span>
                </div>
            </div>
        {% empty %}
            <p>등록된 에피소드가 없습니다.</p>
        {% endfor %}
        <br><br><br>

        <div>
            <!-- 글쓰기 버튼 -->
            <button class="write-btn" onclick="goToWritePage()">
                <i class="fas fa-pencil-alt"></i>
            </button>

            <!-- 지도 버튼 -->
            <button class="map-btn" onclick="goToMapPage()">
                <i class="fas fa-map-marker-alt"></i>
            </button>
        </div>
    </div>
    <script>
        document.getElementById("shipImage")?.addEventListener("click", function() {
            const currentURL = window.location.href;
            const newURL = currentURL + "/select_episodes";
            window.location.href = newURL;
        });

        const mapVideo = document.getElementById("mapVideo");

        // 동영상 재생이 끝났을 때 동작
        mapVideo?.addEventListener("ended", () => {
            mapVideo.pause(); // 동영상 멈춤
            mapVideo.currentTime = mapVideo.duration; // 재생 위치를 끝으로 설정
        });

        function goToWritePage() {
            window.location.href = "write";
        }

        function goToMapPage() {
            window.location.href = "/home";
        }
    </script>
</body>
</html>